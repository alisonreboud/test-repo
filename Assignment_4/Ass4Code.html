<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
  d3.select(window).on('load', init);

function key(d) {
  return d.key;
}

function update(g, x, y, data) {
  
  // Join new data with old elements, if available
  var circles = g.selectAll('circle')
    .data(data, key)

  // Create new elements if needed
  circles
    .enter()
    .append('circle')
    .attr('r', function(d){return 5;})
    .attr('fill', 'red')
   // Here, we merge the Update and Enter selections
   // So that we can update the positions for both 
   // existing and new elements in one go.
   .merge(circles)  
    .attr('cx', function(d){return x(d.key);})
    .attr('cy', function(d){return y(d.value);})


  // Remove elements if needed
  circles
    .exit()
    .remove()
}

function init() {

    var svg = d3.select('svg')
    var margin = {top: 50, right: 50, bottom: 200, left: 50};
    var width = +svg.node().clientWidth - margin.left - margin.right;
    var height = +svg.node().clientHeight - margin.top - margin.bottom;

    var g = svg.append("g")
               .attr("transform", 
                     "translate(" + margin.left + "," + margin.top + ")");
  
    var x = d3.scaleLinear()
        .domain([0, 20])
        .range([0, width]);
  
    var y = d3.scaleLinear()
        .domain([0, 20])
        .range([height, 0]);
  
    // Not strictly necessary to define a key column for this
    // simple example, since it is identical to the value, but
    // we do so anyway to illustrate a point
    var data = [{key:0, value:0},
                {key:1, value:1},
                {key:2, value:2},
                {key:3, value:3},
                {key:4, value:4},
                {key:5, value:5},
                {key:6, value:6},
                {key:7, value:7},
                {key:8, value:8},
                {key:9, value:9}];
  
    var circles = g
        .selectAll('circle')
        .data(data, key)
        .enter()
        .append('circle')
        .attr('cx', function(d){return x(d.key);})
        .attr('cy', function(d){return y(d.value);})
        .attr('r', function(d){return 5;})
        .on("mouseover", 
            function(d) {
              d3.select(this).attr('fill', 'blue');
            })
        .on("mouseout", 
            function(d) {
              d3.select(this).attr('fill', 'black');
            })

    d3.select("#button1")
      .on("click", function(d, i) {
        data[4].value += 0.5;
        update(g, x, y, data);

    });
    d3.select("#button2")
      .on("click", function(d, i) {
        // adding two new values
        data.push({key:data.length, value:data.length});
        data.push({key:data.length, value:data.length});
        update(g, x, y, data);

    });
    d3.select("#button3")
      .on("click", function(d, i) {
        // removing one value in the middle
        data.splice(data.length/2, 1)
        update(g, x, y, data);

    });  
        
}
  <meta name="viewport" content="width=device-width">
</head>
<body>
  <button id="button1">Update: Modify existing value</button><br/>
  <button id="button2">Enter: Add new elements</button><br/>
  <button id="button3">Exit: Remove elements</button><br/>
  <svg></svg>
</body>
</html>
