<!DOCTYPE html>
<html>
    <head>        
        <title>Show of Hands</title>
	    <style type="text/css">
			
			.axis path {
				stroke: steelblue;
				stroke-width: 1;
				fill: none;
			}
		    
			.axis line {
				fill: none;
				stroke: black;
				shape-rendering: crispEdges;
			}
			
			.axis text {
				font-family: sans-serif;
				font-size: 11px;
			}

			.x.axis line {
			  stroke: black;
			}

			.x.axis .minor {
			  stroke-opacity: .5;
			}

			.x.axis path {
			  display: none;
			}

			.y.axis line, .y.axis path {
			  fill: none;
			  stroke: #000;
			}
		</style>
    </head>
    <body style="background-color: #B0E0E6;">
        <script src="https://d3js.org/d3.v4.min.js"></script>
	    <div style="background-color: #FFE4E1;border-size:2px; border-style:solid; border-color:black; height:100px; text-align:center; padding-bottom:5px;">
        <h1 align="center"> Assignment 4: Show of Hands</h1>
	    <h3 align="center"; style="padding-bottom:5px;"> By Alison Reboud, Thomas Schleider & Karina O'Neill </h3> 
	    </div> 
	<div id="container">
	<div id="hand" style="float: left; background-color: #B0E0E6; width: 48%; border-size:2px; border-style:solid; border-color:black">
      Outline of hand using hands.csv.
		<meta charset="utf-8">
      <script type="text/javascript" src="http://d3js.org/d3.v4.min.js"></script>
		<script type="text/javascript">
		
		/* implementation heavily influenced by http://bl.ocks.org/1166403 */
		
		// define dimensions of graph
		var m = [80, 80, 80, 80]; // margins
		var w = 1000 - m[1] - m[3]; // width
		var h = 400 - m[0] - m[2]; // height
		
		// create a simple data array that we'll plot with a line (this array represents only the Y values, X will just be the index location)
		var data = [3, 6, 2, 7, 5, 2, 0, 3, 8, 9, 2, 5, 9, 3, 6, 3, 6, 2, 7, 5, 2, 1, 3, 8, 9, 2, 5, 9, 2, 7];

		// X scale will fit all values from data[] within pixels 0-w
		var x = d3.scale.linear().domain([0, data.length]).range([0, w]);
		// Y scale will fit values from 0-10 within pixels h-0 (Note the inverted domain for the y-scale: bigger is up!)
		var y = d3.scale.linear().domain([0, 10]).range([h, 0]);
			// automatically determining max range can work something like this
			// var y = d3.scale.linear().domain([0, d3.max(data)]).range([h, 0]);

		// create a line function that can convert data[] into x and y points
		var line = d3.svg.line()
			// assign the X function to plot our line as we wish
			.x(function(d,i) { 
				// verbose logging to show what's actually being done
				console.log('Plotting X value for data point: ' + d + ' using index: ' + i + ' to be at: ' + x(i) + ' using our xScale.');
				// return the X coordinate where we want to plot this datapoint
				return x(i); 
			})
			.y(function(d) { 
				// verbose logging to show what's actually being done
				console.log('Plotting Y value for data point: ' + d + ' to be at: ' + y(d) + " using our yScale.");
				// return the Y coordinate where we want to plot this datapoint
				return y(d); 
			})

			// Add an SVG element with the desired dimensions and margin.
			var graph = d3.select("#graph").append("svg:svg")
			      .attr("width", w + m[1] + m[3])
			      .attr("height", h + m[0] + m[2])
			    .append("svg:g")
			      .attr("transform", "translate(" + m[3] + "," + m[0] + ")");

			// create yAxis
			var xAxis = d3.svg.axis().scale(x).tickSize(-h).tickSubdivide(true);
			// Add the x-axis.
			graph.append("svg:g")
			      .attr("class", "x axis")
			      .attr("transform", "translate(0," + h + ")")
			      .call(xAxis);


			// create left yAxis
			var yAxisLeft = d3.svg.axis().scale(y).ticks(4).orient("left");
			// Add the y-axis to the left
			graph.append("svg:g")
			      .attr("class", "y axis")
			      .attr("transform", "translate(-25,0)")
			      .call(yAxisLeft);
			
  			// Add the line by appending an svg:path element with the data line we created above
			// do this AFTER the axes above so that the line is above the tick-lines
  			graph.append("svg:path").attr("d", line(data));
			</script>
      <div>
    </div>
    <div id="scatter" style="float: right; background-color: #B0E0E6; width: 48%; border-size:2px; border-style:solid; border-color:black">
      Scatter plot using hands_PCA.csv.
		<meta charset="utf-8">
      <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
		<script type="text/javascript">

			//Width and height
			var w = 550;
			var h = 330;
			var padding = 40;
			var dataset = [
							[-0.36273476, -0.03003287], [-0.19788622, -0.01479966], [-0.06533481, -0.01564985], [0.1159273, -0.00934947], [0.1139199, -0.00486681], [0.50858274, -0.22398832], [0.14191212, 0.01903032], [0.08757014, 0.01844983], [-0.0284531, 0.16468906], [-0.25294777, -0.22607334], [-0.41438994, -0.01898872], [-0.19405114, -0.05264623], [0.03169398, -0.04303378], [0.22841291, -0.02847918], [0.36053013, -0.09157883], [0.48534316, -0.21290459], [-0.22018978, 0.01377891], [0.08622223, 0.13259871], [-0.13156124, 0.13147828], [-0.15094812, 0.05016439], [-0.44661432, 0.01416537], [-0.13404586, 0.05908271], [0.0093915, 0.07582225], [0.21762946, -0.01350732], [0.32761063, -0.13456273], [0.43579748, -0.1937768], [0.030914, 0.25347662], [-0.16303073, -0.14246252], [-0.15591603, -0.05205692], [-0.05198702, 0.06267556], [-0.48998377, -0.04747742], [-0.30749286, 0.06144199], [-0.00163602, 0.16012436], [0.25334376, 0.16895607], [0.45024078, 0.06865127], [0.62252026, -0.03661794], [-0.04554008, 0.12584583], [0.12019546, 0.4657887], [-0.391543, -0.02601544], [-0.42147136, -0.42735151]
						  ];

			//Create scale functions
			var xScale = d3.scale.linear()
								 .domain([d3.min(dataset, function(d) { return d[0]; }), d3.max(dataset, function(d) { return d[0]; })])
								 .range([padding, w - padding * 2]);

			var yScale = d3.scale.linear()
								 .domain([d3.min(dataset, function(d) { return d[1]; }), d3.max(dataset, function(d) { return d[1]; })])
								 .range([h - padding, padding]);

			//var rScale = d3.scale.linear()
								// .domain([d3.min(dataset, function(d) { return d[1]; }), d3.max(dataset, function(d) { return d[1]; })])
								// .range([2, 5]);

			//Define X axis
			var xAxis = d3.svg.axis()
							  .scale(xScale)
							  .orient("bottom")
							  .ticks(5);

			//Define Y axis
			var yAxis = d3.svg.axis()
							  .scale(yScale)
							  .orient("left")
							  .ticks(5);

			//Create SVG element
			var svg = d3.select("body")
						.append("svg")
						.attr("width", w)
						.attr("height", h);

			//Create circles
			svg.selectAll("circle")
			   .data(dataset)
			   .enter()
			   .append("circle")
			   .attr("cx", function(d) {
			   		return xScale(d[0]);
			   })
			   .attr("cy", function(d) {
			   		return yScale(d[1]);
			   })
			   .attr("r", function(d) {
			   		return 0.3*Math.sqrt(h - d[1]);
			   });

			
			//Create X axis
			svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(0," + (h - padding) + ")")
				.call(xAxis);
			svg.append("text")
			    .attr("class", "xlabel")
			    .attr("x", w - 40)
			    .attr("y", h - 6)
			    .style("text-anchor", "middle")
			    .text("PC1");
			
			//Create Y axis
			svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(" + padding + ",0)")
				.call(yAxis);
			svg.append("text")
			    .attr("class", "ylabel")
			    .attr("transform", "rotate(-90)")
			    .attr("y", 2)
			    .attr("dy", ".71em")
			    .style("text-anchor", "end")
			    .text("PC2");
			
		</script>

    </div>
	</div>
    <div style="float: clear; "></div>
<div id = "part2" style = "background-color: #B0E0E6; border-size:2px; border-style:solid; border-color:black">
    <h2 id = "introduction">Introduction</h2>
    <p>
	    intuitive description of the dataset and PCA
    </p>
    <h2 id = "methods">Methods</h2>
    <p>
	    help the reader navigate the visualization 
    </p>
    <h2 id = "results">Results</h2>
    <p>
	    make observations about the dataset
    </p>
    <h2 id = "conclusion">Conclusion</h2>
    <p>
	    extract some meaning from these observations
    </p>
</div>
</body>
</html>
